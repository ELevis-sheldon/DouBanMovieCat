angular.module("movieApp.top250Ctrl",[]).controller("top250Ctrl",["$scope","$movieServ","$routeParams",function(e,o,a){e.isLoading=!1,a.pageid=a.pageid||1,e.pageid=a.pageid,console.log(a.pageid),e.movie={};var t=5*(a.pageid-1);o.jsonp("https://api.douban.com/v2/movie/top250",{count:5,start:t},function(o){e.movie=o,console.log(o),e.prevPage=a.pageid-1,a.pageid<=1&&(e.prevPage=1),e.nextPage=a.pageid-0+1,e.pageCount=Math.ceil(o.total/5),e.nextPage==e.pageCount&&(e.nextPage=e.pageCount),e.total=o.total,e.isLoading=!0,e.$apply()})}]);