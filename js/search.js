angular.module("movieApp.searchCtrl",[]).controller("searchCtrl",["$scope","$routeParams","$movieServ",function(e,a,o){e.searchName=a.searchName,e.isLoading=!1,a.pageid=a.pageid||1,e.pageid=a.pageid,e.movie={};var t=5*(a.pageid-1);o.jsonp("https://api.douban.com/v2/movie/search",{q:a.searchName,count:5,start:t},function(o){e.movie=o,e.prevPage=a.pageid-1,a.pageid<=1&&(e.prevPage=1),e.nextPage=a.pageid-0+1,e.pageCount=Math.ceil(o.total/5),e.nextPage==e.pageCount&&(e.nextPage=e.pageCount),e.total=o.total,e.isLoading=!0,e.$apply()})}]);